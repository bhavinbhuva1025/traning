
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Folder Hirarchy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Add New Folder :</h1>
    <div id="foldertextbox">
        <input type="text" name="folder" placeholder="   Enter Folder Name" id="folder-texbox">
        <input type="button" onclick="addfolder()" value="Add Folder" id="addbtn">

    </div>
    <h1>Current Hirarchy :</h1>
    <div id="current">
        <!-- show folder hirarchy -->
    </div>
    <script src="script2.js"></script>
</body>
</html>
let folderid=0;
let folders = JSON.parse(localStorage.getItem("folder"))||[];

function addfolder(){
     let inputbox=document.getElementById('folder-texbox').value;
     if(inputbox.trim() === ""){
        alert("please enter folder name")
        return;
     }
        let newfolder={
            id : folderid++,
            name : inputbox,
            parentid : null,

        }
            folders.push(newfolder);

    localStorage.setItem("folder", JSON.stringify(folders));

        document.getElementById('folder-texbox').value="";
    showfolder();
    }
    function addsubfolder(parentid){
        let subname= prompt("enter subfolder name.");
        if(!subname) return;
        folders.push({id : folderid++, name : subname, parentid :parentid });
        savefolder();
        showfolder();
    }
    function savefolder() {
    localStorage.setItem("folder", JSON.stringify(folders));
        
    }
  function editfolder(parentId) {
    let folder = folders.find(f => f.id === parentId);
    let newName = prompt("Enter new name:", folder.name);
    if (!newName) return;
    folder.name = newName.trim();
    savefolder();
    showfolder();
}

  function folderview(parentId){
        let html="";
    let view = folders.filter(f => f.parentid === parentId);
    if (view.length === 0) return "";
            html +="<ul>"
          view.forEach(folder=>{
             html +=`<li> üìÅ ${folder.name}<button id="subadd" onclick="addsubfolder(${folder.id})">add</button>
              <button id="edit" onclick="editfolder(${folder.id})">edit</button></li>`;
             html += folderview(folder.id)
             }); 

            html +="</ul>"

            return html;
    
}
function showfolder(){
        let div =document.querySelector("#current");
        div.innerHTML=folderview(null);
}
document.onload=showfolder();



 *{
    margin: 0;
    padding: 0;
}
#foldertextbox{
margin-left: 100px;
margin-top: 20px;

}
h1{
    margin-left: 100px;
    margin-top: 20px;
}
#addbtn{
    height: 30px;
    width: 80px;
    margin-left: 10px;
}
#folder-texbox{
    height: 25px;
    width: 20vmin;
}
#current{
    margin-left: 100px;
    margin-top: 20px;
}
#subadd{
     height: 20px;
    width: 40px;
    margin-left: 100px;
    justify-content: center;
}
#edit{
     height: 20px;
    width: 40px;
} 

 




    

