<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Folder Hirarchy</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Add New Folder :</h1>
    <div id="foldertextbox">
        <input type="text" name="folder" placeholder="   Enter Folder Name" id="folder-texbox">
        <input type="button" onclick="addfolder()" value="Add Folder" id="addbtn">

    </div>
    <h1>Current Hirarchy :</h1>
    <div id="current">
        <!-- show folder hirarchy -->
    </div>
    <script src="script2.js"></script>
</body>
</html>


let folderid=0;
let folders = JSON.parse(localStorage.getItem("folder"))||[];

function addfolder(){
     let inputbox=document.getElementById('folder-texbox').value;
     if(inputbox.trim() === ""){
        alert("please enter folder name")
        return;
     }
        let newfolder={
            id : folderid++,
            name : inputbox,
            parentid : null,

        }
            folders.push(newfolder);

    localStorage.setItem("folder", JSON.stringify(folders));

        document.getElementById('folder-texbox').value="";
    showfolder();
    }
    function addsubfolder(parentid){
        let subname= prompt("enter subfolder name.");
        if(!subname) return;
        folders.push({id : folderid++, name : subname, parentid :parentid });
        savefolder();
        showfolder();
    }
    function savefolder() {
    localStorage.setItem("folder", JSON.stringify(folders));
        
    }
    function editfolder(folderid){
        let folder =folders.filter(f =>f.id === folderid);
        let newname= prompt("enter new name", folder.name);
        if(!newname) return;
        folder.name=newname.trim();
        savefolder();
        showfolder();
    }

    function folder(parentId) {
        let div =document.querySelector("#current");
        let html="";
    folders.filter(f => f.parentId === parentId).forEach(f => {
      html +="<ul>"
             html +=`<li> üìÅ ${f.name} <button id="subadd" onclick="addsubfolder(${f.id})">add</button>
              <button id="edit" onclick="editfolder(${f.id})">edit</button></li>`;
            html +="</ul>"
        folder(f.id)
    }); 
        div.innerHTML = html;

}

function showfolder() {
    const div = document.getElementById("current");
    folder(null); 
}

showfolder();

*{
    margin: 0;
    padding: 0;
}
#foldertextbox{
margin-left: 100px;
margin-top: 20px;

}
h1{
    margin-left: 100px;
    margin-top: 20px;
}
#addbtn{
    height: 30px;
    width: 80px;
    margin-left: 10px;
}
#folder-texbox{
    height: 25px;
    width: 20vmin;
}
#current{
    margin-left: 100px;
    margin-top: 20px;
}
#subadd{
     height: 20px;
    width: 40px;
    margin-left: 100px;
    justify-content: center;
}
#edit{
     height: 20px;
    width: 40px;
}



    



    
